<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <meta content="text/html; charset=UTF-8" http-equiv="Content-Type" />

  <title>Module: Redirectr::ControllerMethods::InstanceMethods</title>

  <link rel="stylesheet" href="../../rdoc.css" type="text/css" media="screen" />

  <script src="../../js/jquery.js" type="text/javascript" charset="utf-8"></script>
  <script src="../../js/thickbox-compressed.js" type="text/javascript" charset="utf-8"></script>
  <script src="../../js/quicksearch.js" type="text/javascript" charset="utf-8"></script>
  <script src="../../js/darkfish.js" type="text/javascript" charset="utf-8"></script>

</head>
<body id="top" class="module">

  <div id="metadata">
    <div id="home-metadata">
      <div id="home-section" class="section">
        <h3 class="section-header">
          <a href="../../index.html">Home</a>
          <a href="../../index.html#classes">Classes</a>
          <a href="../../index.html#methods">Methods</a>
        </h3>
      </div>
    </div>

    <div id="file-metadata">
      <div id="file-list-section" class="section">
        <h3 class="section-header">In Files</h3>
        <div class="section-body">
          <ul>
          
            <li><a href="../../lib/redirectr_rb.html?TB_iframe=true&amp;height=550&amp;width=785"
              class="thickbox" title="lib/redirectr.rb">lib/redirectr.rb</a></li>
          
          </ul>
        </div>
      </div>

      
    </div>

    <div id="class-metadata">
      

      

      

      
      <!-- Method Quickref -->
      <div id="method-list-section" class="section">
        <h3 class="section-header">Methods</h3>
        <ul class="link-list">
          
          <li><a href="#method-i-back_or_default">#back_or_default</a></li>
          
          <li><a href="#method-i-current_path">#current_path</a></li>
          
          <li><a href="#method-i-default_path">#default_path</a></li>
          
          <li><a href="#method-i-referrer_or_current_path">#referrer_or_current_path</a></li>
          
          <li><a href="#method-i-referrer_param">#referrer_param</a></li>
          
          <li><a href="#method-i-referrer_path">#referrer_path</a></li>
          
        </ul>
      </div>
      

      
    </div>

    <div id="project-metadata">
      
      
      <div id="fileindex-section" class="section project-section">
        <h3 class="section-header">Files</h3>
        <ul>
        
          <li class="file"><a href="../../MIT-LICENSE.html">MIT-LICENSE</a></li>
        
          <li class="file"><a href="../../README.html">README</a></li>
        
          <li class="file"><a href="../../Rakefile.html">Rakefile</a></li>
        
        </ul>
      </div>
      

      <div id="classindex-section" class="section project-section">
        <h3 class="section-header">Class/Module Index
          <span class="search-toggle"><img src="../../images/find.png"
            height="16" width="16" alt="[+]"
            title="show/hide quicksearch" /></span></h3>
        <form action="#" method="get" accept-charset="utf-8" class="initially-hidden">
        <fieldset>
          <legend>Quicksearch</legend>
          <input type="text" name="quicksearch" value=""
            class="quicksearch-field" />
        </fieldset>
        </form>

        <ul class="link-list">
        
          <li><a href="../../Redirectr.html">Redirectr</a></li>
        
          <li><a href="../../Redirectr/ControllerMethods.html">Redirectr::ControllerMethods</a></li>
        
          <li><a href="../../Redirectr/ControllerMethods/ClassMethods.html">Redirectr::ControllerMethods::ClassMethods</a></li>
        
          <li><a href="../../Redirectr/ControllerMethods/InstanceMethods.html">Redirectr::ControllerMethods::InstanceMethods</a></li>
        
          <li><a href="../../Redirectr/Helpers.html">Redirectr::Helpers</a></li>
        
          <li><a href="../../Redirectr/Helpers/InstanceMethods.html">Redirectr::Helpers::InstanceMethods</a></li>
        
          <li><a href="../../RedirectrTest.html">RedirectrTest</a></li>
        
        </ul>
        <div id="no-class-search-results" style="display: none;">No matching classes.</div>
      </div>

      
    </div>
  </div>

  <div id="documentation">
    <h1 class="module">Redirectr::ControllerMethods::InstanceMethods</h1>

    <div id="description" class="description">
      
    </div><!-- description -->

    
    
    
    <div id="5Buntitled-5D" class="documentation-section">
      

      

      

      

      <!-- Methods -->
      
      <div id="public-instance-method-details" class="method-section section">
        <h3 class="section-header">Public Instance Methods</h3>

      
        <div id="back_or_default-method" class="method-detail ">
          <a name="method-i-back_or_default"></a>

          
          <div class="method-heading">
            <span class="method-name">back_or_default</span><span
              class="method-args">(default = nil)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Used in back links, referrer based redirection after actions etc. Accepts a
default redirect path in case no <a href="http://referrer_param">param</a>
is set, default being root_path. To set an own default path (per
controller), you can overwrite the <a
href="InstanceMethods.html#method-i-default_path">default_path</a> method
(see below). Example:</p>

<pre>class MyController
  def create
    @my = My.create(...)
    redirect_to back_or_default(my_path)
  end
end</pre>

<p>The above example will redirect to the <a
href="InstanceMethods.html#method-i-referrer_path">referrer_path</a> if it
is defined, otherwise it will redirect to the my_path</p>

<p>Example:</p>

<pre>class MyController
  def create
    @my = My.create(...)
    redirect_to back_or_default
  end
end</pre>

<p>The above example will redirect to the <a
href="InstanceMethods.html#method-i-referrer_path">referrer_path</a> if it
is defined, otherwise it will redirect to the root_path of the application.</p>
            

            
            <div class="method-source-code" id="back_or_default-source">
<pre>
<span class="ruby-comment"># File lib/redirectr.rb, line 99</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">back_or_default</span>(<span class="ruby-identifier">default</span> = <span class="ruby-keyword">nil</span>)
  <span class="ruby-keyword">unless</span> <span class="ruby-identifier">referrer_path</span>.<span class="ruby-identifier">blank?</span>
    <span class="ruby-identifier">referrer_path</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">default</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">default_path</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- back_or_default-source -->
            
          </div>

          

          
        </div><!-- back_or_default-method -->

      
        <div id="current_path-method" class="method-detail ">
          <a name="method-i-current_path"></a>

          
          <div class="method-heading">
            <span class="method-name">current_path</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Return the path of the current request. note that this path does NOT
include any query parameters nor the hostname, thus allowing you to
navigate within the application only. This may be changed in the future. If
you need a different behaviour now, just overwrite this method in your
controller. Example:</p>

<pre>&lt;%= link_to my_messages_path referrer_param =&gt; current_path %&gt;</pre>
            

            
            <div class="method-source-code" id="current_path-source">
<pre>
<span class="ruby-comment"># File lib/redirectr.rb, line 54</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">current_path</span>
  <span class="ruby-comment"># maybe we want to use request.env['REQUEST_URI'] in the future...?</span>
  <span class="ruby-identifier">request</span>.<span class="ruby-identifier">env</span>[<span class="ruby-string">'PATH_INFO'</span>]
<span class="ruby-keyword">end</span></pre>
            </div><!-- current_path-source -->
            
          </div>

          

          
        </div><!-- current_path-method -->

      
        <div id="default_path-method" class="method-detail ">
          <a name="method-i-default_path"></a>

          
          <div class="method-heading">
            <span class="method-name">default_path</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>to be overwritten by your controllers</p>
            

            
            <div class="method-source-code" id="default_path-source">
<pre>
<span class="ruby-comment"># File lib/redirectr.rb, line 108</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">default_path</span>
  <span class="ruby-identifier">root_path</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- default_path-source -->
            
          </div>

          

          
        </div><!-- default_path-method -->

      
        <div id="referrer_or_current_path-method" class="method-detail ">
          <a name="method-i-referrer_or_current_path"></a>

          
          <div class="method-heading">
            <span class="method-name">referrer_or_current_path</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Return the referrer or the current path, it the former is not set. Useful
in cases where there might be a redirect path that has to be taken note of
but in case it is not present, the current path will be redirected back to.
Example:</p>

<pre>&lt;%= link_to my_messages_path referrer_param =&gt; referrer_or_current_path %&gt;</pre>
            

            
            <div class="method-source-code" id="referrer_or_current_path-source">
<pre>
<span class="ruby-comment"># File lib/redirectr.rb, line 67</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">referrer_or_current_path</span>
  <span class="ruby-identifier">referrer_path</span>.<span class="ruby-identifier">blank?</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">current_path</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">referrer_path</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- referrer_or_current_path-source -->
            
          </div>

          

          
        </div><!-- referrer_or_current_path-method -->

      
        <div id="referrer_param-method" class="method-detail ">
          <a name="method-i-referrer_param"></a>

          
          <div class="method-heading">
            <span class="method-name">referrer_param</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Return the name of the parameter used to pass the referrer path. Use this
instead of the real param name in creating your own links to allow easily
changing the name later Example:</p>

<pre>&lt;%= link_to my_messages_path :filter_by =&gt; 'date', referrer_param =&gt; current_path %&gt;</pre>
            

            
            <div class="method-source-code" id="referrer_param-source">
<pre>
<span class="ruby-comment"># File lib/redirectr.rb, line 41</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">referrer_param</span>
  <span class="ruby-constant">Redirectr</span><span class="ruby-operator">::</span><span class="ruby-constant">REFERRER_PARAM_NAME</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- referrer_param-source -->
            
          </div>

          

          
        </div><!-- referrer_param-method -->

      
        <div id="referrer_path-method" class="method-detail ">
          <a name="method-i-referrer_path"></a>

          
          <div class="method-heading">
            <span class="method-name">referrer_path</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Convenience method for <a href="http://referrer_param">params</a></p>
            

            
            <div class="method-source-code" id="referrer_path-source">
<pre>
<span class="ruby-comment"># File lib/redirectr.rb, line 113</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">referrer_path</span>
  <span class="ruby-identifier">params</span>[<span class="ruby-identifier">referrer_param</span>]
<span class="ruby-keyword">end</span></pre>
            </div><!-- referrer_path-source -->
            
          </div>

          

          
        </div><!-- referrer_path-method -->

      
      </div><!-- public-instance-method-details -->
    
    </div><!-- 5Buntitled-5D -->
  

  </div><!-- documentation -->

  <div id="validator-badges">
    <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
    <p><small>Generated with the <a href="http://deveiate.org/projects/Darkfish-Rdoc/">Darkfish
      Rdoc Generator</a> 2</small>.</p>
  </div>

</body>
</html>

